{{ define "main" }}
<div class="posts-list">
  <div class="container">
    {{ if .Title }}
      <header class="page-header">
        <h1 class="page-title">{{ .Title }}</h1>
        {{ if .Content }}
          <div class="page-content">
            {{ .Content }}
          </div>
        {{ end }}
      </header>
    {{ end }}
    
    {{ if .Pages }}
      <div class="posts-grid">
        {{ range .Paginator.Pages }}
          <article class="post-card">
            {{ if .Params.featured_image }}
              <div class="post-card-image">
                <a href="{{ .RelPermalink }}">
                  <img src="{{ .Params.featured_image | relURL }}" alt="{{ .Title }}" loading="lazy">
                </a>
              </div>
            {{ end }}
            
            <div class="post-card-content">
              <h2 class="post-card-title">
                <a href="{{ .RelPermalink }}">{{ .Title }}</a>
              </h2>
              
              {{ if .Params.subtitle }}
                <p class="post-card-subtitle">{{ .Params.subtitle }}</p>
              {{ end }}
              
              {{ if .Summary }}
                <div class="post-card-excerpt">
                  {{ .Summary | truncate 150 }}
                </div>
              {{ end }}
              
              <div class="post-card-meta">
                <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" class="post-date">
                  {{ .Date.Format (.Site.Params.dateFormat | default "2006年1月2日") }}
                </time>
                
                {{ if .Params.categories }}
                  <div class="post-categories">
                    {{ range first 2 .Params.categories }}
                      <a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}" class="category-tag">{{ . }}</a>
                    {{ end }}
                  </div>
                {{ end }}
              </div>
            </div>
          </article>
        {{ end }}
      </div>
    {{ else }}
      <div class="no-posts">
        <p>{{ i18n "no_posts_found" | default "No posts found." }}</p>
      </div>
    {{ end }}
    
    {{ if .Site.Params.pagination }}
      {{ partial "pagination.html" . }}
    {{ end }}
  </div>
</div>
{{ end }}
